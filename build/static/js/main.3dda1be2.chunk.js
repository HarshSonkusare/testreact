(this.webpackJsonpportal=this.webpackJsonpportal||[]).push([[0],{21:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return c}));var n={title:{type:String,trim:!0,required:!0,maxlength:32,minlength:3},summary:{type:String,required:!0,maxlength:100},contentType:{type:String,required:!0},description:{type:String,trim:!0,required:!0,maxlength:2e3},is_published:{type:Boolean,default:!1},is_breaking_news:{type:Boolean,default:!1},url:{type:String,required:!0},photo:{data:e,contentType:String},start_date:{type:Date,default:Date.now()},end_date:{type:Date,default:Date.now()+7776e6},department:{type:String,required:!0}},a={course:{type:String,required:!0,trim:!0},academic_year:{type:String,required:!0,trim:!0},branch:{type:String,required:!0,trim:!0},min_package:{type:Number,required:!0},max_package:{type:Number,required:!0},avg_package:{type:Number,required:!0},total_placed:{type:Number,required:!0},total_students:{type:Number,required:!0}},c={title:{type:String,required:!0,trim:!0},path:{type:String,required:!0,trim:!0},url:{type:String,required:!0,trim:!0},json:{type:String,required:!0,trim:!0}}}).call(this,r(250).Buffer)},217:function(e,t,r){},357:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(54),i=r.n(c),l=(r(217),r(94),r(190)),s=r(28),o=r(5),d=r(473),u=r(101),j=r.n(u),h={time:1630909503262,blocks:[{id:"whsAeBPEQX",type:"header",data:{text:"Page Heading",level:2}},{id:"HDN5BLThnE",type:"paragraph",data:{text:"Random Text"}}],version:"2.22.2",title:"hm"},b=r(20),x=r(16),p=r.n(x),f=r(177),O=r.n(f),m=[{title:"Main Website",value:"All"},{title:"Academic",value:"Academic"},{title:"Accounts",value:"Accounts"},{title:"Admin",value:"Admin"},{title:"Biotechnology",value:"Biotechnology"},{title:"Central Stores",value:"Central Stores"},{title:"Chemical",value:"Chemical"},{title:"Chemistry",value:"Chemistry"},{title:"Civil",value:"Civil"},{title:"Computer Science",value:"Computer Science"},{title:"E&ICT",value:"E&ICT"},{title:"E&MU",value:"E&MU"},{title:"Electronics & Communication",value:"Electronics & Communication"},{title:"Electrical & Electronics",value:"Electrical & Electronics"},{title:"Humanities",value:"Humanities"},{title:"Mathematics",value:"Mathematics"},{title:"Mechanical",value:"Mechanical"},{title:"Metallurgical & Materials",value:"Metallurgical & Materials"},{title:"Physical Education",value:"Physical Education"},{title:"Physics",value:"Physics"},{title:"School of Management",value:"School of Management"}],y=["All","academic","accounts","admin","biotech","central store","chemical","chemistry","civil","cse","E&ICT","E&mU","electronics","electrical","humanities","mathematics","metallurgy","physical education","physics","school of management"],g="https://nitw.ac.in/api",v="https://nitw.ac.in/static",k="https://insti-web-backend.herokuapp.com/api",C=["B. Tech","M. Tech","MCA"],w=r(222),S=r(223),T=r(224),A=r(225),_=r(226),F=r(227),D=r(228),N=r(233),W=r(234),P=r(235),q=r(236),R=r(237),E={header:{class:w,inlineToolbar:["marker","link"],config:{placeholder:"Header"},shortcut:"CMD+SHIFT+H"},image:{class:O.a,config:{uploader:{uploadByFile:function(e){return Object(b.a)(p.a.mark((function t(){var r,n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),r={method:"POST",headers:{},body:JSON.stringify(e)},t.next=4,fetch("".concat(g,"/uploadImg"),r);case 4:if(n=t.sent,a="",n){t.next=8;break}return t.abrupt("return",{success:0,file:{url:a}});case 8:return t.next=10,n.json();case 10:if(!(c=t.sent).err){t.next=13;break}return t.abrupt("return",{success:0,file:{url:a}});case 13:return a=c.file_path,t.abrupt("return",{success:1,file:{url:a}});case 15:case"end":return t.stop()}}),t)})))()},uploadByUrl:function(e){return Object(b.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:1,file:{url:e}});case 1:case"end":return t.stop()}}),t)})))()}}}},list:{class:S,inlineToolbar:!0,shortcut:"CMD+SHIFT+L"},checklist:{class:T,inlineToolbar:!0},quote:{class:A,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"},shortcut:"CMD+SHIFT+O"},warning:W,marker:{class:P,shortcut:"CMD+SHIFT+M"},delimiter:_,inlineCode:{class:q,shortcut:"CMD+SHIFT+C"},embed:F,table:{class:D,inlineToolbar:!0,shortcut:"CMD+ALT+T"},style:R.StyleInlineTool,Link:N},L=r(0),H="";var B=function(){var e=Object(n.useState)(h),t=Object(o.a)(e,2),r=t[0],a=t[1],c=new j.a({readOnly:!1,holder:"editorjs",tools:E,data:r});return Object(L.jsxs)("div",{className:"Editor",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(L.jsx)("div",{style:{margin:"10px"},children:Object(L.jsx)("button",{onClick:function(){c.save().then((function(e){console.log(e),function(e,t){console.log(e),H=JSON.stringify(e),t(e),console.log(H)}(e,a)})).catch((function(e){console.log("ERROR"),console.log(e)}))},children:"Save the data"})}),Object(L.jsx)("div",{style:{margin:"10px"},children:Object(L.jsx)(d.a,{id:"standard-json",label:"Json from editor",value:JSON.stringify(r)})}),Object(L.jsx)("div",{id:"editorjs"})]})},I=r(3),U=r(17),M=r(18),J=r(21),z=function(e,t){for(var r in e){if(e[r].required&&""===t[r])return!1;if(e[r].type===String){if(e[r].minlength>t[r].length)return!1;if(e[r].maxlength<t[r].length)return!1}}return!0},Y=function(e){var t={};for(var r in e)if(e[r].default&&(t[r]=e[r].default),e[r].type===String)switch(e[r].type){case String:t[r]="";break;case Boolean:t[r]=!1;break;default:t[r]=""}return t},G=r(479),Q=r(467),V=r(460),X=r(470),K=r(477),Z=r(481),$=r(486),ee=r(462),te=r(474),re=r(447),ne=r(457),ae=r(456),ce=r(482),ie=r(463),le=r(181),se=r.n(le),oe=r(483);function de(e){var t=Object(n.useState)(!0),r=Object(o.a)(t,2),a=r[0],c=r[1];return Object(L.jsx)(ce.a,{in:a,children:Object(L.jsx)(ie.a,{severity:e.type,action:Object(L.jsx)(oe.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1)},children:Object(L.jsx)(se.a,{fontSize:"inherit"})}),children:e.text})})}var ue=r(446),je=r(484),he=r(485);function be(e){return Object(L.jsx)("div",{children:Object(L.jsxs)(ue.a,{open:e.openDialog,onClose:function(){e.onDisagree()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(L.jsx)(je.a,{id:"alert-dialog-title",children:e.title}),Object(L.jsxs)(he.a,{children:[Object(L.jsx)(te.a,{onClick:function(){e.onDisagree()},children:"Disagree"}),Object(L.jsx)(te.a,{onClick:function(){e.onAgree()},autoFocus:!0,children:"Agree"})]})]})})}var xe=function(e){var t=Object(n.useState)(!0),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(Y(J.a)),s=Object(o.a)(l,2),u=s[0],j=s[1],h=Object(n.useState)(null),x=Object(o.a)(h,2),f=x[0],O=x[1],y=Object(n.useState)(null),v=Object(o.a)(y,2),k=v[0],C=v[1],w=Object(n.useState)([]),S=Object(o.a)(w,2),T=S[0],A=S[1],_=Object(n.useState)(!0),F=Object(o.a)(_,2),D=F[0],N=F[1],W=Object(n.useState)(!1),P=Object(o.a)(W,2),q=P[0],R=P[1],E=Object(n.useState)(!1),H=Object(o.a)(E,2),B=H[0],I=H[1],U=Object(n.useRef)(null),ce=Object(n.useRef)(null),ie=Object(n.useRef)(null),le=Object(n.useRef)(null),se=Object(n.useRef)(null),oe=e.token,ue=e.addAlert,je={margin:"10px",width:"300px"};Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(oe)}},e.next=3,fetch("".concat(g,"/notification/getall"),t);case 3:if(r=e.sent){e.next=7;break}return ue(Object(L.jsx)(de,{type:"error",text:"There are some issues to be encountered. Please try again later."})),e.abrupt("return");case 7:return e.next=9,r.json();case 9:n=e.sent,A(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(b.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(oe)},body:JSON.stringify({department:f})},e.next=3,fetch("".concat(g,"/notification/dept"),t);case 3:if(r=e.sent){e.next=7;break}return ue(Object(L.jsx)(de,{type:"error",text:"There are some issues to be encountered. Please try again later."})),e.abrupt("return");case 7:return e.next=9,r.json();case 9:n=e.sent,A(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==f&&("All"===f?function(){e.apply(this,arguments)}():function(){t.apply(this,arguments)}())}),[f,oe,ue]);var he=function(){I(!0)},xe=function(){I(!1)},pe=function(){j(Y(J.a)),R(!1),N(!0),O(null),C(null),A([])},fe=function(e,t){return"updateDepartment"===e?(pe(),void O(t)):"updateTitle"===e?(C(t),void j(t)):void j((function(r){var n=Object(M.a)({},r);return n[e]=t,n}))},Oe=function(e,t){var r=e.target.value,n=e.target.id;n||(n=e.target.name),t===Boolean&&(r=e.target.checked),fe(n,r)},me=function(){var t=Object(b.a)(p.a.mark((function t(){var r,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!u){t.next=12;break}return r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify(u)},t.next=4,fetch("".concat(g,"/notification/delete/").concat(u._id),r);case 4:return n=t.sent,t.next=7,n.json();case 7:(a=t.sent).err?e.addAlert(Object(L.jsx)(de,{type:"error",text:a.err})):e.addAlert(Object(L.jsx)(de,{type:"success",text:"The notification has been deleted successfully."})),pe(),t.next=14;break;case 12:N(!1),R(!0);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ye=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!z(J.a,u)){t.next=28;break}if(n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify(u)},!c){t.next=15;break}return t.next=6,fetch("".concat(g,"/notification/add"),n);case 6:if(i=t.sent){t.next=10;break}return e.addAlert(Object(L.jsx)(de,{type:"error",text:"The notification wasn't added. Please try later."})),t.abrupt("return");case 10:return t.next=12,i.json();case 12:a=t.sent,t.next=25;break;case 15:return n.method="PUT",t.next=18,fetch("".concat(g,"/notification/update/").concat(u._id),n);case 18:if(l=t.sent){t.next=22;break}return e.addAlert(Object(L.jsx)(de,{type:"error",text:"The notification wasn't updated. Please try later."})),t.abrupt("return");case 22:return t.next=24,l.json();case 24:a=t.sent;case 25:a.err?e.addAlert(Object(L.jsx)(de,{type:"error",text:a.err})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:c?"The notification has been added to the website.":"The notification has beed updated."})),pe()),t.next=30;break;case 28:N(!1),R(!0);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ge=function(){var e={};for(var t in J.a){var r={error:!1,formHelperText:""};e[t]=r,D||(J.a[t].required&&""===u[t]?(e[t].error=!0,e[t].formHelperText="The given field is required."):J.a[t].type===String&&(J.a[t].minlength>u[t].length&&(e[t].error=!0,e[t].formHelperText="The ".concat(t," should be of atleast ").concat(J.a[t].minlength," length")),J.a[t].maxlength<u[t].length&&(e[t].error=!0,e[t].formHelperText="The ".concat(t," should not exceed ").concat(J.a[t].maxlength," length"))))}return D||(Date.parse(u.start_date)/86400>Date.parse(u.end_date)/86400&&(e.start_date.error=!0,e.end_date.error=!0),Date.parse(u.start_date)/86400<Date.now()/86400&&(e.start_date.error=!0)),q&&(!function(e){for(var t in e)if(e[t].error){switch(t){case"title":U.current.focus();break;case"summary":ce.current.focus();break;case"description":ie.current.focus();break;case"contentType":le.current.focus();break;case"url":se.current.focus()}return}}(e),R(!1)),e}();return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{children:Object(L.jsx)("h2",{children:"Notification Form"})}),Object(L.jsxs)("div",{style:{margin:"10px"},children:[Object(L.jsx)(te.a,{onClick:function(e){i((function(e){return!e})),pe()},children:c?"Update or Delete an existing notification":"Create a new Notification"}),function(){if(!c)return Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{id:"dept-select-label",children:"Department"}),Object(L.jsx)(V.a,{labelId:"dept-select-label",id:"updateDepartment",name:"updateDepartment",value:f,onChange:function(e){return Oe(e,String)},children:m.map((function(e){return Object(L.jsx)(X.a,{value:e.value,children:e.title})}))})]}),Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{id:"title-select-label",children:"Title"}),Object(L.jsx)(V.a,{labelId:"title-select-label",id:"updateTitle",name:"updateTitle",value:k,onChange:function(e){return Oe(e,String)},children:T.map((function(e){return Object(L.jsx)(X.a,{value:e,children:e.title})}))})]})]})}(),c||null!==k?Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"title",children:"title"}),Object(L.jsx)(K.a,{id:"title","aria-describedby":"my-helper-text",value:u.title,onChange:function(e){return Oe(e,String)},error:ge.title.error,inputRef:U}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ge.title.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"summary",children:"summary"}),Object(L.jsx)(K.a,{id:"summary","aria-describedby":"my-helper-text",value:u.summary,onChange:function(e){return Oe(e,String)},error:ge.summary.error,inputRef:ce}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ge.summary.formHelperText})]}),Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{id:"contentTypeLabel",children:"Content Type"}),Object(L.jsxs)(V.a,{labelId:"contentTypeLabel",id:"contentType",name:"contentType",value:u.contentType,onChange:function(e){return Oe(e,String)},error:ge.contentType.error,children:[Object(L.jsx)(X.a,{value:"announcements_news_notices",children:"announcements_news_notices"}),Object(L.jsx)(X.a,{value:"jobs_tenders",children:"jobs_tenders"}),Object(L.jsx)(X.a,{value:"workshops_conferences",children:"workshops_conferences"})]}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ge.contentType.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"description",children:"description"}),Object(L.jsx)(K.a,{id:"description","aria-describedby":"my-helper-text",value:u.description,onChange:function(e){return Oe(e,String)},error:ge.description.error,inputRef:ie}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ge.description.formHelperText})]}),Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{id:"demo-simple-select-label",children:"Department"}),Object(L.jsx)(V.a,{labelId:"demo-simple-select-label",id:"department",name:"department",value:u.department,onChange:function(e){return Oe(e,String)},error:ge.department.error,children:m.map((function(e){return Object(L.jsx)(X.a,{value:e.value,children:e.title})}))}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ge.department.formHelperText})]}),Object(L.jsx)(G.a,{fullWidth:!0,style:je,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{value:u.is_published,checked:u.is_published,onChange:function(e){return Oe(e,Boolean)},id:"is_published"}),label:"is_published"})}),Object(L.jsx)(G.a,{fullWidth:!0,style:je,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{checked:u.is_breaking_news,value:u.is_breaking_news,onChange:function(e){return Oe(e,Boolean)},id:"is_breaking_news"}),label:"is_breaking_news"})}),Object(L.jsxs)(G.a,{fullWidth:!0,style:je,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"url",children:"url"}),Object(L.jsx)(K.a,{id:"url","aria-describedby":"my-helper-text",value:u.url,onChange:function(e){return Oe(e,String)},error:ge.url.error,inputRef:se}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ge.url.formHelperText})]}),Object(L.jsx)(re.b,{dateAdapter:ae.a,children:Object(L.jsx)(ne.a,{label:"Start Date",value:u.start_date,onChange:function(e){return fe("start_date",e)},renderInput:function(e){return Object(L.jsx)(d.a,Object(M.a)(Object(M.a)({},e),{},{style:je,error:ge.start_date.error}))}})}),Object(L.jsx)(re.b,{dateAdapter:ae.a,children:Object(L.jsx)(ne.a,{label:"End Date",value:u.end_date,onChange:function(e){return fe("end_date",e)},renderInput:function(e){return Object(L.jsx)(d.a,Object(M.a)(Object(M.a)({},e),{},{style:je,error:ge.end_date.error}))}})})]}),Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px"},children:[Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:ye,children:"Submit"}),Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:pe,children:"Reset"}),!c&&Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"error",onClick:he,children:"Delete"})]})]}):Object(L.jsx)("div",{})]}),Object(L.jsx)(be,{title:"Are you sure you want to delete the following page?",openDialog:B,onDisagree:xe,onAgree:function(){me(),xe()}})]})},pe=r(74),fe=r(138),Oe={token:null,user:null},me=Object(fe.b)({name:"authSlice",initialState:Oe,reducers:{setField:function(e,t){return console.log(t.payload.data),Object(M.a)({},t.payload.data)},reset:function(e,t){return Oe}}}),ye=Object(fe.a)({reducer:{auth:me.reducer}}),ge=me.actions,ve=ye,ke=r(133),Ce=r.n(ke),we=r(487);function Se(e){var t=Object(n.useState)(!1),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),x=h[0],f=h[1],O=Object(n.useState)(""),m=Object(o.a)(O,2),y=m[0],v=m[1],C=Object(n.useState)(!0),w=Object(o.a)(C,2),S=w[0],T=w[1],A=Object(n.useState)(!1),_=Object(o.a)(A,2),F=_[0],D=_[1],N=Object(n.useRef)(null),W=Object(n.useRef)(null),P=Object(n.useRef)(null),q=Object(pe.b)(),R=!1,E=!1,H=!1,B="",I="",U="",M={margin:"10px",width:"300px"},J=function(){u(""),f(""),v(""),D(!1),T(!0)},z=function(e){var t=e.target.value,r=e.target.id;"userName"===r?u(t):"password"===r?f(t):v(t)},Y=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,l,s,o,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),""===y||!Ce.a.isEmail(y)||c&&(""===d||d.length<3||""===x||x.length<3)){t.next=22;break}if(!c){t.next=16;break}return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d,email:y,password:x})},t.next=6,fetch("".concat(g,"/signup"),n);case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,a.json();case 11:l=t.sent,console.log(l),l.err?e.addAlert(Object(L.jsx)(de,{type:"error",text:l.err})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:"New user has been added successfully"})),i(!1),J()),t.next=20;break;case 16:s=new AbortController,o=setTimeout((function(){return s.abort()}),1e4),u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,password:x}),signal:s.signal},fetch("".concat(g,"/signin"),u).then((function(e){if(!e.ok)throw new Error("response is not ok");if(200!==e.status)throw new Error("Status code is not 200");return e.json()})).then((function(t){sessionStorage.setItem("auth",JSON.stringify(t)),q(ge.setField({data:t})),e.addAlert(Object(L.jsx)(de,{type:"success",text:"You have been logged in successfully."})),e.handleTab("Home"),J()})).catch((function(t){e.addAlert(Object(L.jsx)(de,{type:"error",text:"Main server may be down.. falling back to alternate server"}));var r=new AbortController,n=setTimeout((function(){return r.abort()}),1e4),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:y,password:x}),signal:r.signal};fetch("".concat(k,"/signin"),a).then((function(e){if(!e.ok)throw new Error("response is not ok");if(200!==e.status)throw new Error("Status code is not 200");return e.json()})).then((function(t){sessionStorage.setItem("auth",JSON.stringify(t)),q(ge.setField({data:t})),e.addAlert(Object(L.jsx)(de,{type:"success",text:"You have been logged in successfully on alternate server.. Please contact wsdc team"})),e.handleTab("Home"),J()})).catch((function(t){e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sign in failed"})),console.log(o,n)}))}));case 20:t.next=24;break;case 22:T(!1),D(!0);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return S||(""!==y&&Ce.a.isEmail(y)||(H="true",U=""===y?"Email is required.":"Valid email is required."),c&&((""===x||x.length<3)&&(E=!0,I=""===x?"Password is required.":"Password needs to be of greater than 3 chars."),(""===d||d.length<3)&&(R=!0,B=""===d?"userName is required.":"userName needs to be of greater than 3 chars.")),F&&(H?P.current.focus():c&&R?N.current.focus():W.current.focus(),D(!1))),Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:Object(L.jsx)("h2",{children:c?"Sign Up":"Sign In"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:M,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"email",children:"Email"}),Object(L.jsx)(K.a,{id:"email","aria-describedby":"my-helper-text",value:y,onChange:function(e){return z(e)},error:H,inputRef:P}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:U})]}),c&&Object(L.jsxs)(G.a,{fullWidth:!0,style:M,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"userName",children:"UserName"}),Object(L.jsx)(K.a,{id:"userName","aria-describedby":"my-helper-text",value:d,onChange:function(e){return z(e)},error:R,inputRef:N}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:B})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:M,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"password",children:"Password"}),Object(L.jsx)(K.a,{type:"password",id:"password","aria-describedby":"my-helper-text",value:x,onChange:function(e){return z(e)},error:E,inputRef:W}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:I})]})]}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:Y,children:"Submit"})}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:Object(L.jsxs)(we.a,{href:"#",onClick:function(){i((function(e){return!e}))},children:[c?"Already a user. SignIn":"Create a new account",!c&&"ChangePass"]})})]})}var Te=r(118),Ae=r(464),_e=r(80),Fe=r.n(_e),De=r(188),Ne=r.n(De),We=r(471),Pe=r(461),qe=r(187),Re=r.n(qe),Ee=r(109),Le=r.n(Ee),He={fontWeight:"bold",color:"#4e7207",margin:"2%"},Be={fontWeight:"bold",padding:"2%"};function Ie(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(null),i=Object(o.a)(c,2),l=i[0],s=i[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),j=u[0],h=u[1];Object(n.useEffect)((function(){l&&(console.log(l),h(!0))}),[l]),Object(n.useEffect)((function(){Fe.a.get("".concat(g,"/getRecentFile")).then((function(e){var t=e.data.file_path.replace(/\\/g,"/");a(v+"/"+t),e.data&&s(e.data)})).catch((function(e){console.log(e)}))}));return Object(L.jsx)(We.a,{container:!0,children:!0===j?Object(L.jsxs)(We.a,{container:!0,direction:"column",textAlign:"left",padding:"20px",children:[Object(L.jsx)(Te.a,{variant:"h3",fontWeight:"bold",style:{backgroundColor:"#1DB9C3",color:"#fff",padding:"3%",textAlign:"center"},children:"Last uploaded file"}),Object(L.jsxs)(Te.a,{variant:"h5",style:He,children:[Object(L.jsx)("span",{style:{color:"gray"},children:"Title : "}),l.title]}),Object(L.jsxs)(Te.a,{variant:"h5",style:He,children:[Object(L.jsx)("span",{style:{color:"gray"},children:"Description : "}),l.description]}),Object(L.jsxs)(Te.a,{variant:"h5",style:He,children:[Object(L.jsx)("span",{style:{color:"gray"},children:"Departments : "}),l.departments]}),Object(L.jsxs)(Te.a,{variant:"h5",style:He,children:[Object(L.jsx)("span",{style:{color:"gray"},children:"File Type : "}),l.file_mimetype]}),Object(L.jsxs)(Te.a,{variant:"h5",style:He,children:[Object(L.jsx)("span",{style:{color:"gray"},children:"Uploaded At : "}),l.createdAt]}),Object(L.jsxs)(Te.a,{variant:"h5",style:He,children:[Object(L.jsx)("span",{style:{color:"gray"},children:"File Link : "}),Object(L.jsx)("span",{id:"myLink",children:r})]}),Object(L.jsxs)(We.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(L.jsx)(We.a,{md:5,children:Object(L.jsx)(Pe.a,{variant:"contained",onClick:function(){var e=document.getElementById("myLink");navigator.clipboard.writeText(e.textContent),alert("Copied the link")},fullWidth:!0,endIcon:Object(L.jsx)(Le.a,{}),children:Object(L.jsx)(Te.a,{variant:"h5",style:Be,children:"Copy Link"})})}),Object(L.jsx)(We.a,{md:5,children:Object(L.jsx)("a",{href:r,className:"link-primary",rel:"noreferrer",target:"_blank",style:{textDecoration:"none"},children:Object(L.jsx)(Pe.a,{variant:"contained",color:"secondary",fullWidth:!0,endIcon:Object(L.jsx)(Re.a,{}),children:Object(L.jsx)(Te.a,{variant:"h5",style:Be,children:"Go to file"})})})})]})]}):""})}var Ue={fontWeight:"bold",padding:"2%"};var Me=function(e){var t=new FormData,r=Object(n.useState)({title:"",description:"",file:"",departments:"",loading:!1,error:"",uploadedFile:"",formData:t}),c=Object(o.a)(r,2),i=c[0],l=c[1],s=i.title,u=i.description,j=i.departments,h=i.loading,b=i.file,x=i.uploadedFile,p=i.formData,f=function(e,t){var r="";r="file"===t?e.target.files[0]:e.target.value,p.set(t,r),l(Object(M.a)(Object(M.a)({},i),{},Object(I.a)({},t,r))),s&&u&&j&&b&&l(Object(M.a)(Object(M.a)({},i),{},{error:""}))},O={margin:"10px",width:"300px"};return Object(L.jsx)(a.a.Fragment,{children:Object(L.jsxs)(We.a,{container:!0,direction:"row",children:[Object(L.jsxs)(We.a,{container:!0,direction:"column",md:6,style:{borderRight:"solid",margin:"0 auto",padding:"20px"},children:[Object(L.jsxs)(We.a,{children:[Object(L.jsx)(Te.a,{variant:"h3",fontWeight:"bold",style:{backgroundColor:"#7027A0",color:"#fff",padding:"3%"},children:"Upload Files"}),Object(L.jsx)(Te.a,{variant:"h5",style:{color:"#4e7207"},children:Object(L.jsx)("div",{className:"alert alert-info mt-3",style:{display:x?"":"none"},children:Object(L.jsxs)("h4",{children:[" ",Object(L.jsx)("a",{href:"/recent-upload",target:"_blank",children:"View Uploaded File"})," "]})})}),Object(L.jsx)(Te.a,{variant:"h5",style:{color:"#4e7207"},children:Object(L.jsx)("div",{className:"alert alert-success mt-3",style:{display:h?"":"none"},children:Object(L.jsx)("h4",{children:"Loading..."})})})]}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center",justifyContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:O,required:!0,children:[Object(L.jsx)(Q.a,{children:"Title"}),Object(L.jsx)(K.a,{id:"title",value:s,onChange:function(e){return f(e,"title")}})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:O,required:!0,children:[Object(L.jsx)(Q.a,{children:"Description"}),Object(L.jsx)(K.a,{id:"description",value:u,onChange:function(e){return f(e,"description")}})]})]}),Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center",justifyContent:"center"},children:Object(L.jsx)("div",{className:"row",children:Object(L.jsxs)("div",{className:"col-6 offset-2",children:[Object(L.jsx)("label",{children:Object(L.jsx)("input",{onChange:function(e){return f(e,"file")},type:"file",name:"file",multiple:!0,required:!0,placeholder:"choose a file"})}),i.file&&Object(L.jsx)("img",{width:"500px",src:URL.createObjectURL(b),alt:"preview not available for this file type"})]})})}),Object(L.jsx)("br",{}),Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center",justifyContent:"center"},children:Object(L.jsx)(Ae.a,{className:"form-wrap",options:y,multiple:!0,style:O,onChange:function(e,t){p.set("departments",t),l(Object(M.a)(Object(M.a)({},i),{},{departments:t}))},getOptionLabel:function(e){return e},renderInput:function(e){return Object(L.jsx)(d.a,Object(M.a)(Object(M.a)({},e),{},{label:"Choose Departments",variant:"standard",placeholder:"Departments"}))}})}),Object(L.jsx)("br",{}),Object(L.jsx)(We.a,{container:!0,direction:"row",justifyContent:"center",children:Object(L.jsx)(We.a,{md:6,children:Object(L.jsx)(te.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(t){return function(t){if(t.preventDefault(),l(Object(M.a)(Object(M.a)({},i),{},{error:"",loading:!0})),!s||!u||!j||!b){var r="Please include all fields";return l(Object(M.a)(Object(M.a)({},i),{},{error:r})),void e.addAlert(Object(L.jsx)(de,{type:"error",text:r}))}Fe.a.post("".concat(g,"/uploadFile"),p,{headers:{"content-type":"multipart/form-data",Authorization:"Bearer ".concat(e.token)}}).then((function(t){l(Object(M.a)(Object(M.a)({},i),{},{title:"",description:"",departments:"",file:"",error:"",loading:!1,uploadedFile:t.data.title})),e.setPresentTab("FileUploadForm"),e.addAlert(Object(L.jsx)(de,{type:"success",text:"The File has been uploaded successfully"}))}))}(t)},endIcon:Object(L.jsx)(Ne.a,{}),children:Object(L.jsx)(Te.a,{variant:"h6",style:Ue,children:"Upload"})})})})]}),Object(L.jsx)(We.a,{md:6,children:Object(L.jsx)(Ie,{})})]})})},Je=r(475),ze=r(476),Ye=r(459);var Ge=function e(t,r,n){if(n||(n=[]),r)return n.concat.apply(n,t);for(var a=0;a<t.length;a++)t[a].constructor===Array?e(t[a],r,n):n.push(t[a]);return n},Qe=r(189),Ve=r.n(Qe);function Xe(e){return Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[Object(L.jsx)("div",{style:{padding:"8px",marginLeft:"5px"},children:e.name}),Object(L.jsx)(oe.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"menu-appbar","aria-haspopup":"true",id:e.url,onClick:function(t){e.removeRight(t.target.id)},children:Object(L.jsx)(Ve.a,{})})]})}var Ke=[];function Ze(e){var t=Object(n.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(d.find((function(e){return"/notifyForm"===e.url}))),h=Object(o.a)(j,2),b=h[0],x=h[1],p=Object(n.useState)(d.find((function(e){return"/navigationForm"===e.url}))),f=Object(o.a)(p,2),O=f[0],m=f[1],y=Object(n.useRef)(null),g=function(e,t){for(var r=Ge(e,!0),n=Ge(t,!0),a=[],c=[],i=0;i<r.length;i++)a[r[i]]=!1;for(i=0;i<n.length;i++)!0===a[n[i]]?delete a[n[i]]:a[n[i]]=!0;for(var l in a)c.push(l);return c}(Ke,d),v={margin:"10px",width:"300px"},k=function(e,t){"userEmail"===e?i(t):"notifRight"===e?x(t):"navBarRight"===e?m(t):"addUserRight"===e&&u((function(e){return[].concat(Object(U.a)(e),[t])}))},C=function(e,t){var r=e.target.value,n=e.target.id;n||(n=e.target.name),t===Boolean&&(r=e.target.checked),k(n,r)},w=function(e){u((function(t){return t.filter((function(t){return t.url!==e}))}))};return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{children:Object(L.jsx)("h2",{children:"Rights Form"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:v,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"userEmail",children:"User Email"}),Object(L.jsx)(K.a,{id:"userEmail","aria-describedby":"my-helper-text",value:c,onChange:function(e){return C(e,String)},error:!1,inputRef:y}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:"User whose rights needed to be changed"})]}),Object(L.jsx)(G.a,{fullWidth:!0,style:v,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{value:b,onChange:function(e){return C(e,Boolean)},id:"notifRight"}),label:"Allow to create Notifications"})}),Object(L.jsx)(G.a,{fullWidth:!0,style:v,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{value:O,onChange:function(e){return C(e,Boolean)},id:"navBarRight"}),label:"Allow to update Navigation Bar"})}),Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:v,children:[Object(L.jsx)(Q.a,{id:"rightSelect",children:"Add User Rights"}),Object(L.jsxs)(V.a,{labelId:"rightSelect",id:"addUserRight",name:"department",onChange:function(e){return C(e,String)},children:[Object(L.jsx)(X.a,{disabled:!0,children:"Select the Right"}),g.map((function(e){return Object(L.jsx)(X.a,{value:e,children:e.url})}))]})]}),Object(L.jsx)("div",{children:d.map((function(e){return Object(L.jsx)(Xe,{url:e.url,name:e.right_name,removeRight:w},e.url)}))}),Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",children:"Submit"})]})]})}function $e(e){var t=Object(n.useState)(""),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),d=s[0],u=s[1],j="",h="",x=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),u(!0),n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify({url:c})},t.next=6,fetch("".concat(g,"/page/get"),n);case 6:return a=t.sent,t.next=9,a.json();case 9:i=t.sent,console.log(i),i.error?400===a.status?e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sorry, the given url doesn't exist or the server is down for a while."})):403===a.status&&e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sorry!! You are not authorized to access or edit the given page."})):(e.handlePageChange(i),e.handleTab("PageEditor"));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();d&&""===c&&(j=!0,h="Please enter a url");return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("h3",{children:"Please enter the url of page you want to edit."}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:{margin:"10px",width:"500px"},required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"url",children:"url"}),Object(L.jsx)(K.a,{id:"url","aria-describedby":"my-helper-text",error:j,value:c,onChange:function(e){return i(e.target.value)}}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:h})]}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:x,children:"Extract Page"})}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(te.a,{style:{marginLeft:"10px",marginTop:"10px"},color:"primary",onClick:function(){e.handleTab("NewPageForm")},children:"Want to create a new page?"})}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(te.a,{style:{marginLeft:"10px",marginTop:"10px"},color:"primary",onClick:function(){e.handleTab("AllUrls")},children:"See All Urls currently present"})})]})]})}function et(e){var t=Object(n.useState)({blocks:e.pageDetails.blocks}),r=Object(o.a)(t,1)[0],c=new j.a({readOnly:!1,holder:"editorjs",tools:E,data:r}),i=Object(n.useState)(!1),l=Object(o.a)(i,2),s=l[0],d=l[1],u=e.pageDetails,h=u.title,x=u.url,f=u.path,O=function(){d(!1)},m=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,c,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="PUT",a="".concat(g,"/page/update"),c="The page has been updated successfully.",e.newPage&&(n="POST",a="".concat(g,"/page/add"),c="New page has been added successfully"),i={method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify(Object(M.a)(Object(M.a)({},r),{},{title:h,url:x,path:f}))},t.next=7,fetch(a,i);case 7:return l=t.sent,t.next=10,l.json();case 10:t.sent.error?e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sorry, there is no data."})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:c})),e.handleTab("EditorForm"));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(b.a)(p.a.mark((function t(){var r,n,a,c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.newPage){t.next=16;break}return"DELETE",r="".concat(k,"/page/delete"),n="The page has been deleted successfully.",a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify({url:x})},t.next=7,fetch(r,a);case 7:if(c=t.sent,i=null,c){t.next=13;break}return t.next=12,c.json();case 12:i=t.sent;case 13:!c||i&&i.error?e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sorry, The page has not been deleted. Please try again later."})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:n})),e.handleTab("EditorForm")),t.next=17;break;case 16:e.handleTab("EditorForm");case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("h2",{children:h}),Object(L.jsxs)("div",{className:"Editor",style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(L.jsxs)("div",{style:{margin:"10px"},children:[Object(L.jsx)(te.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),c.save().then((function(e){m(e)})).catch((function(e){console.log("ERROR"),console.log(e)}))},children:"Finalize the page"}),Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"error",onClick:function(){d(!0)},children:"Delete the page"})]}),Object(L.jsx)("div",{id:"editorjs"})]}),Object(L.jsx)(be,{title:"Are you sure you want to delete the following page?",openDialog:s,onDisagree:O,onAgree:function(){y(),O()}})]})}function tt(e){var t=Object(n.useState)(!1),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(""),x=Object(o.a)(j,2),f=x[0],O=x[1],m=Object(n.useState)(""),y=Object(o.a)(m,2),g=y[0],v=y[1],k=Object(n.useState)(!0),C=Object(o.a)(k,2),w=C[0],S=C[1],T=Object(n.useState)(!1),A=Object(o.a)(T,2),_=A[0],F=A[1],D=Object(n.useRef)(null),N=Object(n.useRef)(null),W=Object(n.useRef)(null),P=!1,q=!1,R=!1,E="",H="",B="",I={margin:"10px",width:"300px"},U=function(e){var t=e.target.value,r=e.target.id;"title"===r?u(t):"path"===r?O(t):v(t)},J=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===g|""===d||d.length<3||""===f||f.length<3?(S(!1),F(!0)):i(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return w||(""===g&&(R=!0,B="url is required."),(""===f||f.length<3)&&(q=!0,H=""===f?"path is required.":"path needs to be of greater than 3 chars.",(""===d||d.length<3)&&(P=!0,E=""===d?"title is required.":"title needs to be of greater than 3 chars.")),_&&(R?W.current.focus():P?D.current.focus():N.current.focus(),F(!1))),Object(L.jsx)(a.a.Fragment,{children:c?Object(L.jsx)(et,{pageDetails:Object(M.a)(Object(M.a)({},h),{},{title:d,url:g,path:f}),handleTab:e.handleTab,addAlert:e.addAlert,token:e.token,newPage:!0}):Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:Object(L.jsx)("h2",{children:"New Page Form"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:I,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"url",children:"Url"}),Object(L.jsx)(K.a,{id:"url","aria-describedby":"my-helper-text",value:g,onChange:function(e){return U(e)},error:R,inputRef:W}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:B})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:I,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"title",children:"Title For Page"}),Object(L.jsx)(K.a,{id:"title","aria-describedby":"my-helper-text",value:d,onChange:function(e){return U(e)},error:P,inputRef:D}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:E})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:I,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"path",children:"Path"}),Object(L.jsx)(K.a,{id:"path","aria-describedby":"my-helper-text",value:f,onChange:function(e){return U(e)},error:q,inputRef:N}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:H})]})]}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:J,children:"Move Forward To Page Creation Area"})})]})})}var rt=function(e){var t=Object(n.useState)(Y(J.c)),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(!0),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(!1),h=Object(o.a)(j,2),x=h[0],f=h[1],O=Object(n.useRef)(null),y=Object(n.useRef)(null),v=Object(n.useRef)(null),k=Object(n.useRef)(null),w=Object(n.useRef)(null),S=Object(n.useRef)(null),T=Object(n.useRef)(null),A={margin:"10px",width:"300px"},_=function(){i(Y(J.c)),f(!1),u(!0)},F=function(e,t){i((function(r){var n=Object(M.a)({},r);return n[e]=t,n}))},D=function(e,t){var r=e.target.value,n=e.target.id;n||(n=e.target.name),t===Boolean&&(r=e.target.checked),F(n,r)},N=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!z(J.c,c)){t.next=19;break}return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify(c)},t.next=5,fetch("".concat(g,"/placements/add"),n);case 5:if(a=t.sent){t.next=9;break}return e.addAlert(Object(L.jsx)(de,{type:"error",text:"The placement data wasn't added. Please try later."})),t.abrupt("return");case 9:return t.next=11,a.json();case 11:if(!(i=t.sent).error){t.next=15;break}return e.addAlert(Object(L.jsx)(de,{type:"error",text:i.error})),t.abrupt("return");case 15:e.addAlert(Object(L.jsx)(de,{type:"success",text:"The placement data has been added to the website."})),_(),t.next=21;break;case 19:u(!1),f(!0);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var e={};for(var t in J.c){var r={error:!1,formHelperText:""};e[t]=r,d||(J.c[t].required&&""===c[t]?(e[t].error=!0,e[t].formHelperText="The given field is required."):J.c[t].type===String&&(J.c[t].minlength>c[t].length&&(e[t].error=!0,e[t].formHelperText="The ".concat(t," should be of atleast ").concat(J.c[t].minlength," length")),J.c[t].maxlength<c[t].length&&(e[t].error=!0,e[t].formHelperText="The ".concat(t," should not exceed ").concat(J.c[t].maxlength," length"))))}return x&&(!function(e){for(var t in e)if(e[t].error){switch(t){case"academic_year":O.current.focus();break;case"branch":y.current.focus();break;case"min_package":v.current.focus();break;case"max_package":k.current.focus();break;case"avg_package":w.current.focus();break;case"total_placed":S.current.focus();break;case"total_students":T.current.focus()}return}}(e),f(!1)),e}();return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{children:Object(L.jsx)("h2",{children:"Placement Form"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{id:"demo-simple-select-label",children:"Course"}),Object(L.jsx)(V.a,{labelId:"demo-simple-select-label",id:"course",name:"course",value:c.course,onChange:function(e){return D(e,String)},error:W.course.error,children:C.map((function(e){return Object(L.jsx)(X.a,{value:e,children:e})}))}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.course.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"academic_year",children:"Academic year. ex(2021-22)"}),Object(L.jsx)(K.a,{id:"academic_year","aria-describedby":"my-helper-text",value:c.academic_year,onChange:function(e){return D(e,String)},error:W.academic_year.error,inputRef:O}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.academic_year.formHelperText})]}),Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{id:"demo-simple-select-label",children:"Branch"}),Object(L.jsx)(V.a,{labelId:"demo-simple-select-label",id:"branch",name:"branch",value:c.branch,onChange:function(e){return D(e,String)},error:W.branch.error,children:m.map((function(e){return Object(L.jsx)(X.a,{value:e.value,children:e.title})}))}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.branch.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"min_package",children:"Min Package"}),Object(L.jsx)(K.a,{id:"min_package","aria-describedby":"my-helper-text",value:c.min_package,onChange:function(e){return D(e,Number)},error:W.min_package.error,inputRef:v}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.min_package.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"max_package",children:"Max Package"}),Object(L.jsx)(K.a,{id:"max_package","aria-describedby":"my-helper-text",value:c.max_package,onChange:function(e){return D(e,Number)},error:W.max_package.error,inputRef:k}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.max_package.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"avg_package",children:"Avg Package"}),Object(L.jsx)(K.a,{id:"avg_package","aria-describedby":"my-helper-text",value:c.avg_package,onChange:function(e){return D(e,Number)},error:W.avg_package.error,inputRef:w}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.avg_package.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"total_placed",children:"Total Placed"}),Object(L.jsx)(K.a,{id:"total_placed","aria-describedby":"my-helper-text",value:c.total_placed,onChange:function(e){return D(e,Number)},error:W.total_placed.error,inputRef:S}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.total_placed.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:A,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"total_students",children:"Total Students"}),Object(L.jsx)(K.a,{id:"total_students","aria-describedby":"my-helper-text",value:c.total_students,onChange:function(e){return D(e,Number)},error:W.total_students.error,inputRef:T}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:W.total_students.formHelperText})]})]}),Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:N,children:"Submit"}),Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:_,children:"Reset"})]})]})},nt=r(480),at=r(488),ct=r(453),it=r(452),lt=r(110),st=r.n(lt);function ot(e){var t=e.year,r=e.files,a=Object(n.useState)(""),c=Object(o.a)(a,2),i=c[0],l=c[1];if(4!==t.length)return Object(L.jsx)("div",{});var s=[],u=function(e){return function(t){t.preventDefault(),navigator.clipboard.writeText(e),alert("Copied the link")}};return Object(L.jsxs)("div",{children:[void r.forEach((function(e){e.createdAt.substring(0,4)===t&&s.push(e)})),Object(L.jsx)("br",{}),0===s.length&&Object(L.jsx)("h5",{children:"".concat(s.length," files were Uploaded in ").concat(t)}),0!==s.length&&Object(L.jsxs)("div",{children:[Object(L.jsx)("h5",{children:"".concat(s.length," files were Uploaded in ").concat(t)}),Object(L.jsxs)(We.a,{container:!0,direction:"column",marginTop:"10vh",children:[Object(L.jsxs)(it.a,{sx:{display:"flex",alignItems:"flex-end",margin:"auto"},children:[Object(L.jsx)(st.a,{sx:{color:"action.active",mr:2,my:.5}}),Object(L.jsx)(d.a,{id:"input-with-sx",label:"Search with title, departments",variant:"standard",onChange:function(e){return l(e.target.value)}})]}),Object(L.jsx)(nt.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(L.jsx)(at.a,{component:"div",id:"nested-list-subheader"}),children:Object(L.jsxs)("table",{style:{width:"80%",margin:"auto",marginTop:"2rem"},children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{style:{backgroundColor:"#1976d2",height:"2.5rem",fontSize:"1.3rem",color:"white"},children:[Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600"},children:"Title"}),Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600"},children:"Description"}),Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600"},children:"Departments"}),Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600"},children:"File"})]})}),s.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())||e.departments.toLowerCase().includes(i.toLowerCase())})).map((function(e){var t=e.file_path.replace(/\\/g,"/");return t=v+"/"+t,Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:Object(L.jsx)(ct.a,{children:e.title})}),Object(L.jsx)("td",{children:Object(L.jsx)(ct.a,{children:e.description})}),Object(L.jsx)("td",{children:Object(L.jsx)(ct.a,{children:e.departments})}),Object(L.jsxs)("td",{children:[Object(L.jsx)(we.a,{href:t,className:"link-primary",rel:"noreferrer",target:"_blank",children:Object(L.jsx)(te.a,{style:{textTransform:"none"},children:Object(L.jsx)(ct.a,{children:"Open"})})}),Object(L.jsx)(te.a,{variant:"contained",endIcon:Object(L.jsx)(Le.a,{}),onClick:u(t)})]})]})}))]})})]})]})]})}function dt(e){var t=Object(n.useState)([]),r=Object(o.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),s=l[0],d=l[1];return Object(n.useEffect)((function(){Fe.a.get("".concat(g,"/getAllFiles"),{headers:{Authorization:"Bearer ".concat(e.token)}}).then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[e.token]),Object(L.jsx)("section",{className:"section section-lg bg-default",children:Object(L.jsx)("div",{className:"container",children:Object(L.jsxs)("div",{className:"col-sm-10 offset-1",children:[Object(L.jsxs)("h2",{className:"fw-bold",children:[" ",""===s||"Select Year"===s?"":s," Uploaded Documents"]}),Object(L.jsx)("hr",{className:"divider bg-madison"}),Object(L.jsx)("br",{}),Object(L.jsx)("div",{className:"container col-sm-8 offset 2",children:Object(L.jsxs)("select",{className:"form-select",onChange:function(e){d(e.target.value)},children:[Object(L.jsx)("option",{selected:!0,children:"Select Year"}),Object(L.jsx)("option",{value:"2022",children:"2022"}),Object(L.jsx)("option",{value:"2021",children:"2021"}),Object(L.jsx)("option",{value:"2020",children:"2020"}),Object(L.jsx)("option",{value:"2019",children:"2019"}),Object(L.jsx)("option",{value:"2018",children:"2018"})]})}),Object(L.jsx)("div",{children:Object(L.jsx)(ot,{year:s,files:a})})]})})})}function ut(e){var t=Object(n.useState)(Y(J.b)),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(!0),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(!1),h=Object(o.a)(j,2),x=h[0],f=h[1],O=Object(n.useRef)(null),m=Object(n.useRef)(null),y=Object(n.useRef)(null),v=Object(n.useRef)(null),k={margin:"10px",width:"300px"},C=function(){i(Y(J.b)),f(!1),u(!0)},w=function(e,t){i((function(r){var n=Object(M.a)({},r);return n[e]=t,n}))},S=function(e,t){var r=e.target.value,n=e.target.id;n||(n=e.target.name),t===Boolean&&(r=e.target.checked),w(n,r)},T=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,i,l,s,o,d,j;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!z(J.b,c)){t.next=18;break}return n=c.title,a=c.path,i=c.url,l=c.json,s=JSON.parse(l),o={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify(Object(M.a)(Object(M.a)({},s),{},{title:n,path:a,url:i}))},t.next=7,fetch("".concat(g,"/page/add"),o);case 7:return d=t.sent,t.next=10,d.json();case 10:if(!(j=t.sent).error){t.next=14;break}return e.addAlert(Object(L.jsx)(de,{type:"error",text:j.error})),t.abrupt("return");case 14:e.addAlert(Object(L.jsx)(de,{type:"success",text:"New page has been added successfully"})),C(),t.next=20;break;case 18:u(!1),f(!0);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var e={};for(var t in J.b){var r={error:!1,formHelperText:""};e[t]=r,d||(J.b[t].required&&""===c[t]?(e[t].error=!0,e[t].formHelperText="The given field is required."):J.b[t].type===String&&(J.b[t].minlength>c[t].length&&(e[t].error=!0,e[t].formHelperText="The ".concat(t," should be of atleast ").concat(J.b[t].minlength," length")),J.b[t].maxlength<c[t].length&&(e[t].error=!0,e[t].formHelperText="The ".concat(t," should not exceed ").concat(J.b[t].maxlength," length"))))}return x&&(!function(e){for(var t in e)if(e[t].error){switch(t){case"title":O.current.focus();break;case"path":m.current.focus();break;case"url":y.current.focus();break;case"json":v.current.focus()}return}}(e),f(!1)),e}();return Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{children:Object(L.jsx)("h2",{children:"New Page Form"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsxs)(G.a,{fullWidth:!0,style:k,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"title",children:"Title"}),Object(L.jsx)(K.a,{id:"title","aria-describedby":"my-helper-text",value:c.title,onChange:function(e){return S(e,String)},error:A.title.error,inputRef:O}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:A.title.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:k,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"path",children:"Path"}),Object(L.jsx)(K.a,{id:"path","aria-describedby":"my-helper-text",value:c.path,onChange:function(e){return S(e,String)},error:A.path.error,inputRef:m}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:A.path.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:k,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"url",children:"Url"}),Object(L.jsx)(K.a,{id:"url","aria-describedby":"my-helper-text",value:c.url,onChange:function(e){return S(e,Number)},error:A.url.error,inputRef:y}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:A.url.formHelperText})]}),Object(L.jsxs)(G.a,{fullWidth:!0,style:k,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"json",children:"JSON"}),Object(L.jsx)(K.a,{id:"json","aria-describedby":"my-helper-text",value:c.json,onChange:function(e){return S(e,Number)},error:A.json.error,inputRef:v}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:A.json.formHelperText})]})]}),Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:T,children:"Submit"}),Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:C,children:"Reset"})]})]})}function jt(e){var t=Object(n.useState)(null),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),x=h[0],f=h[1],O=Object(n.useState)(""),m=Object(o.a)(O,2),y=m[0],v=m[1],k=Object(n.useState)(1),C=Object(o.a)(k,2),w=C[0],S=C[1],T=Object(n.useState)(!1),A=Object(o.a)(T,2),_=A[0],F=A[1],D=Object(n.useState)(!1),N=Object(o.a)(D,2),W=N[0],P=N[1],q=Object(n.useState)(!0),R=Object(o.a)(q,2),E=R[0],H=R[1],B=Object(n.useState)(!1),I=Object(o.a)(B,2),U=I[0],M=I[1],J=Object(n.useState)([]),z=Object(o.a)(J,2),Y=z[0],re=z[1],ne=Object(n.useState)(null),ae=Object(o.a)(ne,2),ce=ae[0],ie=ae[1],le=Object(n.useState)(!1),se=Object(o.a)(le,2),oe=se[0],ue=se[1],je=e.token,he=e.addAlert;Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(je)}},e.next=3,fetch("".concat(g,"/nav/getall"),t);case 3:if(r=e.sent){e.next=7;break}return he(Object(L.jsx)(de,{type:"error",text:"There are some issues to be encountered. Please try again later."})),e.abrupt("return");case 7:return e.next=9,r.json();case 9:n=e.sent,u(n),console.log(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[je,he]);var xe=!1,pe=!1,fe=!1,Oe="",me="",ye="",ge={margin:"10px",width:"300px"},ve=function(){ue(!1)},ke=function(){f(""),S(1),v(""),i(""),F(!1),P(!1),H(!0),re([]),u([]),ie(null)},Ce=function(e){var t=e.target.value,r=e.target.id;"title"===r?f(t):"route"===r?v(t):"is_internal"===r?(t=e.target.checked,P(t)):"priority"===r?S(t):"is_path"===r?(t=e.target.checked,F(t)):"updateNavigation"===e.target.name?(i(t),re(d.filter((function(e){return e===t}))[0].dropdowns)):ie(t)},we=function(){var t=Object(b.a)(p.a.mark((function t(){var r,n,a,i,l,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U){t.next=18;break}if(""===x||x.length<3||w<0||0===y.length){t.next=15;break}return r={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify({dropdowns:[{title:x,route:y,priority:w,is_internal:W,is_path:_}]})},t.next=5,fetch("".concat(g,"/nav/addDropdown/").concat(c._id),r);case 5:if(n=t.sent){t.next=9;break}return e.addAlert(Object(L.jsx)(de,{type:"error",text:"Something unexpected happened. Please try again later."})),t.abrupt("return");case 9:return t.next=11,n.json();case 11:(a=t.sent).err?e.addAlert(Object(L.jsx)(de,{type:"error",text:a.err})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:"New navigation dropdown has been added successfully"})),ke()),t.next=16;break;case 15:H(!1);case 16:t.next=26;break;case 18:return i={method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify({dropdown_id:ce._id})},t.next=21,fetch("".concat(g,"/nav/removeDropdown/").concat(c._id),i);case 21:return l=t.sent,t.next=24,l.json();case 24:(s=t.sent).err?e.addAlert(Object(L.jsx)(de,{type:"error",text:s.err})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:"New navigation dropdown has been deleted successfully"})),ke());case 26:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return E||((""===x||x.length<3)&&(xe=!0,Oe=""===x?"title is required":"title needs to be of greater than 3 chars"),""===y&&(fe=!0,ye="route is required"),w<0&&(pe=!0,me="Priority can't be negative")),Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:Object(L.jsx)("h2",{children:U?"Delete Navigation Dropdown":"Add Navigation Dropdown"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:Object(L.jsx)(te.a,{type:"outline",href:"#",onClick:function(){e.shuffleForm()},children:"Add or delete navigation button"})}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:Object(L.jsx)(te.a,{type:"outline",href:"#",onClick:function(){M((function(e){return!e}))},children:U?"Add a new navigation dropdown":"Delete existing dorpdown"})}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:ge,required:!0,children:[Object(L.jsx)(Q.a,{id:"nav-select-label",children:"Navigation Tabs"}),Object(L.jsx)(V.a,{labelId:"nav-select-label",id:"updateNavigation",name:"updateNavigation",value:c,onChange:function(e){return Ce(e)},children:d.map((function(e){return Object(L.jsx)(X.a,{value:e,children:e.title})}))})]})}),U&&Object(L.jsx)("div",{style:{display:"flex",justifyContent:"space-around"},children:Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:ge,required:!0,children:[Object(L.jsx)(Q.a,{id:"nav-select-label",children:"Dropdowns"}),Object(L.jsx)(V.a,{labelId:"nav-select-label",id:"updateDropdown",name:"updateDropdown",value:ce,onChange:function(e){return Ce(e)},children:Y.map((function(e){return Object(L.jsx)(X.a,{value:e,children:e.title})}))})]})}),!U&&Object(L.jsxs)(G.a,{fullWidth:!0,style:ge,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"title",children:"title"}),Object(L.jsx)(K.a,{id:"title","aria-describedby":"my-helper-text",value:x,onChange:function(e){return Ce(e)},error:xe}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:Oe})]}),!U&&Object(L.jsxs)(G.a,{fullWidth:!0,style:ge,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"route",children:"route"}),Object(L.jsx)(K.a,{id:"route","aria-describedby":"my-helper-text",value:y,onChange:function(e){return Ce(e)},error:fe}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:ye})]}),!U&&Object(L.jsxs)(G.a,{fullWidth:!0,style:ge,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"priority",children:"priority"}),Object(L.jsx)(K.a,{type:"number",id:"priority","aria-describedby":"my-helper-text",inputProps:{inputProps:{min:0}},value:w,onChange:function(e){return Ce(e)},error:pe}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:me})]}),!U&&Object(L.jsx)(G.a,{fullWidth:!0,style:ge,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{checked:_,onChange:function(e){return Ce(e)},id:"is_path"}),label:"Has path"})}),!U&&Object(L.jsx)(G.a,{fullWidth:!0,style:ge,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{checked:W,onChange:function(e){return Ce(e)},id:"is_internal"}),label:"Internal Navbar"})})]}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:U?"error":"primary",onClick:U?function(){ue(!0)}:we,children:U?"Delete":"Submit"})}),Object(L.jsx)(be,{title:"Are you sure you want to delete the following navigation tab?",openDialog:oe,onDisagree:ve,onAgree:function(){we(),ve()}})]})}function ht(e){var t=Object(n.useState)(!1),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(""),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(n.useState)(1),h=Object(o.a)(j,2),x=h[0],f=h[1],O=Object(n.useState)(!1),m=Object(o.a)(O,2),y=m[0],v=m[1],k=Object(n.useState)(!1),C=Object(o.a)(k,2),w=C[0],S=C[1],T=Object(n.useState)(!0),A=Object(o.a)(T,2),_=A[0],F=A[1],D=Object(n.useState)(!1),N=Object(o.a)(D,2),W=N[0],P=N[1],q=Object(n.useState)([]),R=Object(o.a)(q,2),E=R[0],H=R[1],B=Object(n.useState)(null),I=Object(o.a)(B,2),U=I[0],M=I[1],J=Object(n.useState)(!1),z=Object(o.a)(J,2),Y=z[0],re=z[1],ne=e.token,ae=e.addAlert;Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(ne)}},e.next=3,fetch("".concat(g,"/nav/getall"),t);case 3:if(r=e.sent){e.next=7;break}return ae(Object(L.jsx)(de,{type:"error",text:"There are some issues to be encountered. Please try again later."})),e.abrupt("return");case 7:return e.next=9,r.json();case 9:n=e.sent,H(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}W&&function(){e.apply(this,arguments)}()}),[W,ne,ae]);var ce=!1,ie=!1,le="",se="",oe={margin:"10px",width:"300px"},ue=function(){re(!1)},je=function(){u(""),f(1),v(!1),S(!1),F(!0),M(null)},he=function(){i((function(e){return!e}))},xe=function(e){var t=e.target.value,r=e.target.id;"title"===r?u(t):"priority"===r?f(t):"is_path"===r?(t=e.target.checked,v(t)):(t=e.target.checked,S(t))},pe=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),""===d||d.length<3||x<0){t.next=16;break}return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify({title:d,priority:x,is_internal:w,is_path:y})},t.next=6,fetch("".concat(g,"/nav/add"),n);case 6:if(a=t.sent){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,a.json();case 11:c=t.sent,console.log(c),c.err?e.addAlert(Object(L.jsx)(de,{type:"error",text:c.err})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:"New navigation has been added successfully"})),je()),t.next=17;break;case 16:F(!1);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),fe=function(){var t=Object(b.a)(p.a.mark((function t(){var r,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}},t.next=3,fetch("".concat(g,"/nav/delete/").concat(U._id),r);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,n.json();case 8:(a=t.sent).err?e.addAlert(Object(L.jsx)(de,{type:"error",text:a.err})):(e.addAlert(Object(L.jsx)(de,{type:"success",text:"Navigation has been deleted successfully"})),je());case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();_||((""===d||d.length<3)&&(ce=!0,le=""===d?"title is required":"title needs to be of greater than 3 chars"),x<0&&(ie=!0,se="Priority can't be negative"));var Oe=Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsx)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:Object(L.jsx)("h2",{children:W?"Delete Navigation Tab":"Add Navigation Tab"})}),Object(L.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignContent:"center"},children:[Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:Object(L.jsx)(te.a,{type:"outline",href:"#",onClick:function(){he()},children:"Add or delete dropdown tab"})}),Object(L.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:Object(L.jsx)(te.a,{type:"outline",href:"#",onClick:function(){P((function(e){return!e}))},children:W?"Add new navigation tab":"Delete existing navigation tab"})}),W&&Object(L.jsxs)(G.a,{variant:"filled",fullWidth:!0,style:oe,required:!0,children:[Object(L.jsx)(Q.a,{id:"updateNavigation-select-label",children:"Title"}),Object(L.jsx)(V.a,{labelId:"updateNavigation-select-label",id:"updateNavigation",name:"updateNavigation",value:U,onChange:function(e){return t=e.target.value,M(t),u(t.title),f(t.priority),v(t.is_path),void S(t.is_internal);var t},children:E.map((function(e){return Object(L.jsx)(X.a,{value:e,children:e.title})}))})]}),!W&&Object(L.jsxs)(G.a,{fullWidth:!0,style:oe,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"title",children:"title"}),Object(L.jsx)(K.a,{id:"title","aria-describedby":"my-helper-text",value:d,onChange:function(e){return xe(e)},error:ce}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:le})]}),!W&&Object(L.jsxs)(G.a,{fullWidth:!0,style:oe,required:!0,children:[Object(L.jsx)(Q.a,{htmlFor:"priority",children:"priority"}),Object(L.jsx)(K.a,{type:"number",id:"priority","aria-describedby":"my-helper-text",inputProps:{inputProps:{min:0}},value:x,onChange:function(e){return xe(e)},error:ie}),Object(L.jsx)(Z.a,{id:"my-helper-text",children:se})]}),!W&&Object(L.jsx)(G.a,{fullWidth:!0,style:oe,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{checked:y,onChange:function(e){return xe(e)},id:"is_path"}),label:"Has path"})}),!W&&Object(L.jsx)(G.a,{fullWidth:!0,style:oe,children:Object(L.jsx)($.a,{control:Object(L.jsx)(ee.a,{checked:w,onChange:function(e){return xe(e)},id:"is_breaking_news"}),label:"Internal Navbar"})})]}),Object(L.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[!W&&Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"primary",onClick:pe,children:'"Submit"'}),W&&Object(L.jsx)(te.a,{style:{marginLeft:"10px"},variant:"contained",color:"error",onClick:function(){re(!0)},children:"Delete"})]}),Object(L.jsx)(be,{title:"Are you sure you want to delete the following navigation tab?",openDialog:Y,onDisagree:ue,onAgree:function(){fe(),ue()}})]});return c?Object(L.jsx)(jt,{addAlert:e.addAlert,token:e.token,shuffleForm:he}):Oe}var bt=r(472),xt=r(454),pt=r(466),ft=r(455),Ot=function(e){if("/mathematics"===e)return"Mathematics";if("/cse"===e)return"Computer Science";if("/cs"===e)return"Computer Science";if("/eee"===e)return"Electrical & Electronics";if("/ece"===e)return"Electronics & Communication";if("/bt"===e)return"Biotechnology";if("/cy"===e)return"Chemical";if("/ce"===e)return"Civil";if("/me"===e)return"Mechanical";if("/pe"===e)return"Physical Education";if("/physics"===e)return"Physics";if("/sm"===e)return"School of Management";if("/mme"===e)return"Metallurgical and Materials";if("/facilities/library"===e)return"Library";if("/hss"===e)return"Humanities and Social Science";if("/rnd"===e)return"Research and Development";var t=e.slice(1);return(t=(t=(t=t.replace("_"," ")).replace(/\//g," ")).toLowerCase()).charAt(0).toUpperCase()+t.slice(1)},mt=function(e){var t=Object(n.useState)([]),r=Object(o.a)(t,2),a=r[0],c=r[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),s=l[0],u=l[1],j=e.token,h=e.addAlert;Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j)}},e.next=3,fetch("".concat(g,"/page/sitemap"),t);case 3:if(r=e.sent){e.next=7;break}return h(Object(L.jsx)(de,{type:"error",text:"There are some issues to be encountered. Please try again later."})),e.abrupt("return");case 7:return e.next=9,r.json();case 9:n=e.sent,c(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[j,h]);var x=function(){var t=Object(b.a)(p.a.mark((function t(r){var n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)},body:JSON.stringify({url:r})},t.next=4,fetch("".concat(g,"/page/get"),n);case 4:return a=t.sent,t.next=7,a.json();case 7:c=t.sent,console.log(c),c.error?400===a.status?e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sorry, the given url doesn't exist or the server is down for a while."})):403===a.status&&e.addAlert(Object(L.jsx)(de,{type:"error",text:"Sorry!! You are not authorized to access or edit the given page."})):(e.handlePageChange(c),e.handleTab("PageEditor"));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a.sort((function(e,t){return e.url<t.url?-1:e.url>t.url?1:0})),Object(L.jsxs)(We.a,{container:!0,direction:"column",marginTop:"10vh",children:[Object(L.jsxs)(xt.a,{sx:{display:"flex",alignItems:"flex-end",margin:"auto"},children:[Object(L.jsx)(st.a,{sx:{color:"action.active",mr:2,my:.5}}),Object(L.jsx)(d.a,{id:"input-with-sx",label:"Search with name, url, path",variant:"standard",onChange:function(e){return u(e.target.value)}})]}),Object(L.jsx)(nt.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(L.jsx)(at.a,{component:"div",id:"nested-list-subheader"}),children:Object(L.jsxs)("table",{style:{width:"80%",margin:"auto",marginTop:"2rem"},children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{style:{backgroundColor:"#1976d2",height:"2.5rem",fontSize:"1.3rem",color:"white"},children:[Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600",width:"35%"},children:"URL"}),Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600",width:"45%"},children:"TITLE"}),Object(L.jsx)("th",{style:{textAlign:"center",fontWeight:"600",width:"20%"},children:"PATH"})]})}),a.filter((function(e){return e.title.toLowerCase().includes(s.toLowerCase())||e.path.toLowerCase().includes(s.toLowerCase())||e.url.toLowerCase().includes(s.toLowerCase())||Ot(e.path).toLowerCase().includes(s.toLocaleLowerCase())})).map((function(e){return Object(L.jsxs)("tr",{children:[Object(L.jsx)("td",{children:Object(L.jsx)(te.a,{onClick:function(){x(e.url)},style:{textTransform:"none"},children:Object(L.jsx)(ct.a,{children:e.url})})}),Object(L.jsx)("td",{children:Object(L.jsx)(te.a,{onClick:function(){x(e.url)},style:{textTransform:"none"},children:Object(L.jsx)(ct.a,{children:"[".concat(Ot(e.path),"] ").concat(Ot("/"+e.title))})})}),Object(L.jsx)("td",{children:Object(L.jsx)(ct.a,{children:"".concat(Ot("/"+e.path))})})]})}))]})})]})},yt=Object(Ye.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}));function gt(){var e=yt(),t=Object(n.useState)("Home"),r=Object(o.a)(t,2),c=r[0],i=r[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),d=s[0],u=s[1],j=Object(pe.b)(),h=Object(pe.c)((function(e){return e.auth})),x=Object(n.useState)([]),f=Object(o.a)(x,2),O=f[0],m=f[1],y=function(e){i(e)},v=function(e){u(e)},k=function(e){m((function(t){var r=Object(U.a)(t);return r.push(e),r})),console.log(O)},C=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify()},e.next=3,fetch("".concat(g,"/signout"),t);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:sessionStorage.removeItem("auth"),j(ge.reset()),y("Home");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem("auth"));e&&j(ge.setField({data:e})),y("Home")}),[j]),Object(L.jsxs)(a.a.Fragment,{children:[Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsx)(Je.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},style:{marginBottom:"90px"},children:Object(L.jsxs)(ze.a,{children:[Object(L.jsx)(Te.a,{variant:"h6",className:e.title,children:"Portal for Website"}),h.user?Object(L.jsx)(te.a,{color:"inherit",onClick:function(){C()},children:"Logout"}):Object(L.jsx)(te.a,{color:"inherit",onClick:function(){i("Login")},children:"Login"})]})}),Object(L.jsxs)(bt.a,{variant:"permanent",sx:Object(I.a)({width:240,flexShrink:0},"& .MuiDrawer-paper",{width:240,boxSizing:"border-box"}),children:[Object(L.jsx)(ze.a,{}),Object(L.jsx)(xt.a,{sx:{overflow:"auto"},children:Object(L.jsxs)(nt.a,{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("Home")},children:"Home"}),Object(L.jsx)(ft.a,{}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("NotificationForm")},children:"Notification Form"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("RightsForm")},children:"Rights Form"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("EditorForm")},children:"Editor Form"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("FileUploadForm")},children:"Upload File"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("PlacementForm")},children:"Placement Form"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("AllUploadedFiles")},children:"All Uploaded Files"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("CreatePageWithJSON")},children:"Create Page With JSON"}),Object(L.jsx)(ft.a,{})]}),h.user&&Object(L.jsxs)("div",{children:[Object(L.jsx)(pt.a,{button:!0,onClick:function(){i("NavigationForm")},children:"Navigation Form"}),Object(L.jsx)(ft.a,{})]})]})})]})]}),Object(L.jsxs)("div",{style:{margin:"65px 0px 0px 240px"},children:[Object(L.jsx)("div",{children:O}),"Home"===c&&Object(L.jsx)("h1",{children:"Welcome To The Institute Website Portal"}),"NotificationForm"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(xe,{addAlert:k,token:h.token})}),"Login"===c&&Object(L.jsx)(Se,{handleTab:y,addAlert:k}),"RightsForm"===c&&Object(L.jsx)(Ze,{handleTab:y,addAlert:k}),"EditorForm"===c&&Object(L.jsx)($e,{handleTab:y,addAlert:k,handlePageChange:v,token:h.token}),"PageEditor"===c&&Object(L.jsx)(et,{pageDetails:d,handleTab:y,addAlert:k,token:h.token}),"NewPageForm"===c&&Object(L.jsx)(tt,{handleTab:y,addAlert:k,token:h.token}),"FileUploadForm"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(Me,{addAlert:k,token:h.token,setPresentTab:i})}),"PlacementForm"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(rt,{addAlert:k,token:h.token})}),"AllUploadedFiles"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(dt,{addAlert:k,token:h.token})}),"RecentFile"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(Ie,{addAlert:k,token:h.token})}),"CreatePageWithJSON"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(ut,{addAlert:k,token:h.token})}),"NavigationForm"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(ht,{addAlert:k,token:h.token})}),"AllUrls"===c&&Object(L.jsx)("div",{children:Object(L.jsx)(mt,{addAlert:k,token:h.token,handlePageChange:v,handleTab:y})})]})]})}function vt(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsxs)(l.a,{children:[Object(L.jsx)(s.a,{exact:!0,path:"/",component:gt}),Object(L.jsx)(s.a,{exact:!0,path:"/E1",component:B}),Object(L.jsx)(s.a,{exact:!0,path:"/recent-upload",component:Ie})]})})}i.a.render(Object(L.jsx)(pe.a,{store:ve,children:Object(L.jsx)(vt,{})}),document.getElementById("root"))},94:function(e,t,r){}},[[357,1,2]]]);
//# sourceMappingURL=main.3dda1be2.chunk.js.map